#N canvas 258 277 500 300 10;
#X declare -path abs -path else;
#X obj 0 0 cnv 15 500 300 empty empty empty 20 12 0 14 #b7b7b7 #4d4d4d 0;
#N canvas 502 54 450 300 notes 0;
#X text 8 44 - PAN follows a triangular random distribution.;
#X text 8 4 - Triangular random distribution with an exponential factor for most parameters.;
#X text 8 104 - Deviations from the mean are expressed in percentage or the total range.;
#X text 8 74 - Values ouside the valid ranges are mirrored back.;
#X restore 920 120 pd notes;
#X obj 93 53 cnv 15 80 200 empty empty MEAN 10 10 1 14 #404040 #b8b8b8 0;
#X obj 106 217 nbx 4 20 5 2000 0 0 \$0-grainDur.m \$0-load.grainDur.m duration 0 -14 1 14 #000000 #fcfcfc #fcfcfc 0 256;
#X obj 106 156 nbx 4 20 20 5000 0 0 \$0-iot.m \$0-load.iot.m iot 0 -14 1 14 #000000 #fcfcfc #fcfcfc 0 256;
#X obj 106 97 nbx 4 20 0 10000 0 0 \$0-delread.m \$0-load.delread.m delread 0 -14 1 14 #000000 #fcfcfc #fcfcfc 0 256;
#X obj 176 53 cnv 15 55 200 empty empty DEV 1 10 1 14 #606060 #202020 0;
#X obj 181 217 nbx 3 20 0 100 0 0 \$0-grainDur.d \$0-load.grainDur.d empty 52 8 1 14 #000000 #fcfcfc #fcfcfc 0 256;
#X obj 181 156 nbx 3 20 0 100 0 0 \$0-iot.d \$0-load.iot.d empty 52 8 1 14 #000000 #fcfcfc #fcfcfc 0 256;
#X obj 181 97 nbx 3 20 0 100 0 0 \$0-delread.d \$0-load.delread.d empty 62 8 1 14 #000000 #fcfcfc #000000 0 256;
#X obj 244 53 cnv 15 80 200 empty empty MEAN 10 10 1 14 #404040 #b8b8b8 0;
#X obj 327 53 cnv 15 55 200 empty empty DEV 10 10 1 14 #606060 #202020 0;
#X obj 258 217 nbx 4 20 -12 12 0 0 \$0-pitch.m \$0-load.pitch.m pitch 0 -14 1 14 #000000 #fcfcfc #fcfcfc 0 256;
#X obj 258 97 nbx 4 20 1 99 0 0 \$0-env.m \$0-load.env.m envelope 0 -14 1 14 #000000 #fcfcfc #fcfcfc 0 256;
#X obj 258 157 nbx 4 20 60 112 0 0 \$0-amp.m \$0-load.amp.m dynamics 0 -14 1 14 #000000 #fcfcfc #fcfcfc 0 256;
#X obj 332 217 nbx 3 20 0 100 0 0 \$0-pitch.d \$0-load.pitch.d empty 52 8 1 14 #000000 #fcfcfc #000000 0 256;
#X obj 332 156 nbx 3 20 0 100 0 0 \$0-amp.d \$0-load.amp.d empty 52 8 1 14 #000000 #fcfcfc #fcfcfc 0 256;
#X obj 332 97 nbx 3 20 0 100 0 0 \$0-env.d \$0-load.env.d empty 52 8 1 14 #000000 #fcfcfc #000000 0 256;
#X floatatom 752 40 10 0 0 0 - \$0-set.buffSize \$0-init.buffSize 0;
#X text 632 35 buffer size (ms):;
#X text 607 215 max. amplitude (dB):;
#X text 581 175 max. grain duration (ms):;
#X text 584 155 min. grain duration (ms):;
#X text 597 235 min. transposition (st):;
#X text 593 255 max. transposition (st):;
#X text 590 55 max. number of voices:;
#X floatatom 752 60 10 0 0 0 - \$0-set.maxVoices \$0-init.maxVoices 0;
#X floatatom 752 160 10 0 0 0 - \$0-set.grainDur.min \$0-init.grainDur.min 0;
#X floatatom 752 180 10 0 0 0 - \$0-set.grainDur.max \$0-init.grainDur.max 0;
#X floatatom 752 200 10 0 0 0 - \$0-set.amp.min \$0-init.amp.min 0;
#X floatatom 752 220 10 0 0 0 - \$0-set.amp.max \$0-init.amp.max 0;
#X floatatom 752 240 10 0 0 0 - \$0-set.pitch.min \$0-init.pitch.min 0;
#X floatatom 752 260 10 0 0 0 - \$0-set.pitch.max \$0-init.pitch.max 0;
#X floatatom 752 79 10 0 0 0 - \$0-set.iot.min \$0-init.iot.min 0;
#X floatatom 752 100 10 0 0 0 - \$0-set.iot.max \$0-init.iot.max 0;
#X text 573 74 min. inter-onset time (ms):;
#X text 572 95 max. inter-onset time (ms):;
#X floatatom 752 120 10 0 0 0 - \$0-set.env.min \$0-init.env.min 0;
#X floatatom 752 140 10 0 0 0 - \$0-set.env.max \$0-init.env.max 0;
#X text 596 115 min. envelope (attack):;
#X text 591 135 max. envelope (decay):;
#X obj 752 303 bng 15 250 50 0 \$0-apply empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X text 638 297 apply changes:;
#N canvas 372 349 435 317 multiple-instances 0;
#X obj 32 129 until;
#X obj 82 179 + 1;
#X msg 98 129 clear;
#X obj 32 219 t f f;
#X obj 32 80 t f b b;
#X obj 59 255 * 25;
#X obj 59 290 + 25;
#X msg 70 129 1;
#X obj 32 180 f 1;
#X obj 15 326 pack f f \$0;
#X obj 99 410 s pd-grains;
#X obj 32 18 r \$0-init.maxVoices;
#X msg 294 138 clear;
#X obj 281 18 r \$0-init.buffSize;
#X obj 281 89 t f b;
#X msg 281 212 obj 25 25 inputBuffer \$2 \$1;
#X obj 281 172 pack 0 \$0;
#X obj 281 253 s pd-input;
#X msg 15 362 obj 25 \$2 inputGrain \$3 \$1;
#X obj 174 18 r \$0-pre.load;
#X connect 0 0 8 0;
#X connect 1 0 8 1;
#X connect 2 0 10 0;
#X connect 3 0 9 0;
#X connect 3 1 5 0;
#X connect 4 0 0 0;
#X connect 4 1 7 0;
#X connect 4 2 2 0;
#X connect 5 0 6 0;
#X connect 6 0 9 1;
#X connect 7 0 8 1;
#X connect 8 0 1 0;
#X connect 8 0 3 0;
#X connect 9 0 18 0;
#X connect 11 0 4 0;
#X connect 12 0 17 0;
#X connect 13 0 14 0;
#X connect 14 0 16 0;
#X connect 14 1 12 0;
#X connect 15 0 17 0;
#X connect 16 0 15 0;
#X connect 18 0 10 0;
#X connect 19 0 12 0;
#X connect 19 0 2 0;
#X restore 859 299 pd multiple-instances;
#N canvas 1001 308 215 974 grains 0;
#X obj 25 50 inputGrain 1004 1;
#X obj 25 75 inputGrain 1004 2;
#X obj 25 100 inputGrain 1004 3;
#X obj 25 125 inputGrain 1004 4;
#X obj 25 150 inputGrain 1004 5;
#X obj 25 175 inputGrain 1004 6;
#X obj 25 200 inputGrain 1004 7;
#X obj 25 225 inputGrain 1004 8;
#X obj 25 250 inputGrain 1004 9;
#X obj 25 275 inputGrain 1004 10;
#X obj 25 300 inputGrain 1004 11;
#X obj 25 325 inputGrain 1004 12;
#X obj 25 350 inputGrain 1004 13;
#X obj 25 375 inputGrain 1004 14;
#X obj 25 400 inputGrain 1004 15;
#X obj 25 425 inputGrain 1004 16;
#X obj 25 450 inputGrain 1004 17;
#X obj 25 475 inputGrain 1004 18;
#X obj 25 500 inputGrain 1004 19;
#X obj 25 525 inputGrain 1004 20;
#X obj 25 550 inputGrain 1004 21;
#X obj 25 575 inputGrain 1004 22;
#X obj 25 600 inputGrain 1004 23;
#X obj 25 625 inputGrain 1004 24;
#X obj 25 650 inputGrain 1004 25;
#X obj 25 675 inputGrain 1004 26;
#X obj 25 700 inputGrain 1004 27;
#X obj 25 725 inputGrain 1004 28;
#X obj 25 750 inputGrain 1004 29;
#X obj 25 775 inputGrain 1004 30;
#X restore 859 271 pd grains;
#N canvas 503 179 303 271 input 0;
#X obj 25 25 inputBuffer 1004 10000;
#X restore 859 150 pd input;
#X obj 859 73 bng 36 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#N canvas 705 271 1037 678 mapping 0;
#X msg 209 142 range \$1 \$2;
#X obj 209 113 pack 0 0;
#X obj 209 80 t b f;
#X obj 19 15 r \$0-init.maxVoices;
#X obj 19 78 s \$0-load.voices;
#X msg 189 412 range \$1 \$2;
#X obj 189 390 pack 0 0;
#X obj 207 366 t b f;
#X obj 189 274 r \$0-init.grainDur.min;
#X obj 199 297 value \$0-grainDur.min;
#X obj 207 321 r \$0-init.grainDur.max;
#X obj 217 344 value \$0-grainDur.max;
#X obj 189 435 s \$0-load.grainDur.m;
#X obj 227 47 value \$0-delread.max;
#X obj 209 171 s \$0-load.delread.m;
#X obj 257 78 value \$0-delread.min;
#X msg 189 647 range \$1 \$2;
#X obj 189 618 pack 0 0;
#X obj 214 582 t b f;
#X obj 189 484 r \$0-init.iot.min;
#X obj 212 512 value \$0-iot.min;
#X obj 214 541 r \$0-init.iot.max;
#X obj 257 582 value \$0-iot.max;
#X obj 189 679 s \$0-load.iot.m;
#X msg 469 412 range \$1 \$2;
#X obj 469 390 pack 0 0;
#X obj 496 360 t b f;
#X msg 469 647 range \$1 \$2;
#X obj 469 618 pack 0 0;
#X obj 491 582 t b f;
#X msg 445 179 range \$1 \$2;
#X obj 445 155 pack 0 0;
#X obj 463 123 t b f;
#X obj 469 260 r \$0-init.amp.min;
#X obj 488 291 value \$0-amp.min;
#X obj 496 315 r \$0-init.amp.max;
#X obj 544 360 value \$0-amp.max;
#X obj 469 435 s \$0-load.amp.m;
#X obj 469 484 r \$0-init.pitch.min;
#X obj 491 512 value \$0-pitch.min;
#X obj 491 541 r \$0-init.pitch.max;
#X obj 539 582 value \$0-pitch.max;
#X obj 469 679 s \$0-load.pitch.m;
#X obj 445 208 s \$0-load.env.m;
#X obj 445 15 r \$0-init.env.min;
#X obj 463 47 value \$0-env.min;
#X obj 463 78 r \$0-init.env.max;
#X obj 511 123 value \$0-env.max;
#X obj 209 15 r \$0-init.buffSize;
#X msg 19 47 range 0 \$1;
#X connect 0 0 14 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 2 1 1 1;
#X connect 3 0 49 0;
#X connect 5 0 12 0;
#X connect 6 0 5 0;
#X connect 7 0 6 0;
#X connect 7 1 6 1;
#X connect 8 0 6 0;
#X connect 8 0 9 0;
#X connect 10 0 7 0;
#X connect 10 0 11 0;
#X connect 16 0 23 0;
#X connect 17 0 16 0;
#X connect 18 0 17 0;
#X connect 18 1 17 1;
#X connect 19 0 17 0;
#X connect 19 0 20 0;
#X connect 21 0 18 0;
#X connect 21 0 22 0;
#X connect 24 0 37 0;
#X connect 25 0 24 0;
#X connect 26 0 25 0;
#X connect 26 1 25 1;
#X connect 27 0 42 0;
#X connect 28 0 27 0;
#X connect 29 0 28 0;
#X connect 29 1 28 1;
#X connect 30 0 43 0;
#X connect 31 0 30 0;
#X connect 32 0 31 0;
#X connect 32 1 31 1;
#X connect 33 0 25 0;
#X connect 33 0 34 0;
#X connect 35 0 26 0;
#X connect 35 0 36 0;
#X connect 38 0 28 0;
#X connect 38 0 39 0;
#X connect 40 0 29 0;
#X connect 40 0 41 0;
#X connect 44 0 31 0;
#X connect 44 0 45 0;
#X connect 46 0 32 0;
#X connect 46 0 47 0;
#X connect 48 0 2 0;
#X connect 48 0 13 0;
#X connect 49 0 4 0;
#X restore 859 238 pd mapping ranges;
#X obj 240 503 hip~ 5;
#X obj 273 563 hip~ 5;
#X obj 174 904 dac~, f 26;
#X obj 273 534 catch~ \$0-RightOut;
#X obj 240 476 catch~ \$0-LeftOut;
#X obj 498 531 line~;
#X msg 498 503 \$1 100;
#X obj 487 570 *~;
#X obj 20 795 s~ \$0-input;
#X obj 20 329 adc~ 1;
#X obj 20 486 *~;
#X obj 41 428 line~, f 6;
#X obj 41 459 *~, f 6;
#X obj 61 82 vu 20 150 \$0-in-vu-data empty -1 -8 0 10 #404040 #000000 0 0;
#N canvas 329 161 625 417 vu 0;
#X obj 59 129 env~ 1024;
#X obj 161 111 abs~;
#X obj 161 213 snapshot~;
#X obj 161 256 rmstodb;
#X obj 161 21 inlet~;
#X obj 161 288 - 100;
#X obj 59 287 - 100;
#X obj 59 361 outlet;
#X obj 161 361 outlet;
#X text 344 307 Check the help file of env~ and slop~ for more details., f 31;
#X obj 239 89 expr 1000 / $f1;
#X floatatom 239 117 5 0 0 0 - - - 0;
#X obj 161 146 slop~ 0 0 0 0 1e+09;
#X floatatom 239 57 5 0 0 0 - - - 0;
#X text 359 89 convert to hz;
#X text 282 118 hz;
#X text 284 57 peak decay time in ms;
#X obj 59 171 t f b;
#X text 345 132 The env~ object is dedicated to RMS analysis. Its output is in dB (0-100 range \, pd style) but needs to be converted to dBFS (and we do that by simply subtracting 100)., f 31;
#X text 345 225 The slop~ object is used here for peak detection. We need to convert the output to dB with rmstodb and also subtract by 100 to convert it to dBFS., f 31;
#X msg 239 31 500;
#X obj 238 8 loadbang;
#X connect 0 0 17 0;
#X connect 1 0 12 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 0 0;
#X connect 4 0 1 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 10 0 11 0;
#X connect 11 0 12 3;
#X connect 12 0 2 0;
#X connect 13 0 10 0;
#X connect 17 0 6 0;
#X connect 17 1 2 0;
#X connect 20 0 13 0;
#X connect 21 0 20 0;
#X restore 52 693 pd vu;
#X f 10;
#X text 581 9 INSTRUMENT SETTINGS;
#N canvas 341 145 1162 761 presets 0;
#X listbox -1 301 123 0 0 0 - - - 36;
#X obj -1 354 list prepend \$0;
#X msg -1 388 \; \$1-apply bang \; \$1-load.voices \$14 \; \$1-load.delread.m \$2 \; \$1-load.iot.m \$4 \; \$1-load.grainDur.m \$6 \; \$1-load.env.m \$8 \; \$1-load.amp.m \$10 \; \$1-load.pitch.m \$12 \; \$1-load.delread.d \$3 \; \$1-load.iot.d \$5 \; \$1-load.grainDur.d \$7 \; \$1-load.env.d \$9 \; \$1-load.amp.d \$11 \; \$1-load.pitch.d \$13;
#X msg 38 227 1000 100 1000 10 800 10 100 50 100 10 0 5 2;
#X text 115 353 DELAY - IOT - DUR - ENV - VOL - TRANSPO - N.GRAINS;
#X obj 22 11 inlet;
#X msg 55 189 5000 100 1000 100 500 50 100 50 100 10 0 1 5;
#X msg 72 151 5000 100 1000 100 500 50 100 50 100 10 0 1 5;
#X msg 89 111 5000 100 1000 100 500 50 100 50 100 10 0 1 5;
#X msg 106 72 5000 100 1000 100 500 50 100 50 100 10 0 1 5;
#X msg 22 265 500 10 400 20 150 30 1 10 100 0 0 1 10;
#X obj 22 42 sel 0 1 2 3 4 5;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 3 0 0 0 32.................H....n8+++OB....Z++++aC....;
#X connect 5 0 11 0;
#X connect 6 0 0 0 32.................L....j7+++OC....I++++yE....;
#X connect 7 0 0 0 32.................J....f6+++uB....39+++KH....;
#X connect 8 0 0 0 64.................N....P8+++uC....T++++2....Pw++++M....T7+++eC....m9+++2....vo++++pB....;
#X connect 9 0 0 0 64.................J....r7+++uB....K++++u....ft++++K....n6+++OC....V9+++y....fk++++QC....;
#X connect 10 0 0 0;
#X connect 11 0 10 0 32.................lA........fY.........rL....;
#X connect 11 1 3 0;
#X connect 11 2 6 0;
#X connect 11 3 7 0;
#X connect 11 4 8 0;
#X connect 11 5 9 0;
#X restore 859 208 pd presets;
#N canvas 1113 546 540 457 init 0;
#X obj 67 17 loadbang;
#X msg 20 551 \; pd dsp 1;
#X obj 20 17 inlet;
#X obj 20 82 \$0;
#X obj 20 526 del 500;
#X obj 20 217 del 1000;
#X obj 40 254 \$0;
#X obj 220 251 \$0;
#X obj 220 221 del 100;
#X text 150 16 this loadbang must be connected in order to initialise its parameters, f 38;
#X text 106 253 INIT PRESET;
#X msg 20 111 bang \; pd dsp 0 \; \$1-pre.load bang;
#X obj 20 175 t b b;
#X text 262 250 set default parameter ranges;
#X msg 40 282 \; \$1-apply bang \; \$1-load.voices 3 \; \$1-load.delread.m 1000 \; \$1-load.iot.m 100 \; \$1-load.grainDur.m 80 \; \$1-load.env.m 50 \; \$1-load.amp.m 90 \; \$1-load.pitch.m 0 \; \$1-load.delread.d 20 \; \$1-load.iot.d 30 \; \$1-load.grainDur.d 3 \; \$1-load.env.d 50 \; \$1-load.amp.d 20 \; \$1-load.pitch.d 1;
#X msg 220 282 \; \$1-set.buffSize 10000 \; \$1-set.maxVoices 30 \; \$1-set.iot.min 20 \; \$1-set.iot.max 5000 \; \$1-set.grainDur.min 5 \; \$1-set.grainDur.max 2000 \; \$1-set.env.min 1 \; \$1-set.env.max 99 \; \$1-set.amp.min 60 \; \$1-set.amp.max 112 \; \$1-set.pitch.min -12 \; \$1-set.pitch.max 12 \; \$1-set.rand.curve 2 \; \$1-set-gain 0 \; \$1-set-mastervol 1 \; \$1-set-xfade 0.9;
#X connect 0 0 3 0;
#X connect 2 0 3 0;
#X connect 3 0 11 0;
#X connect 4 0 1 0;
#X connect 5 0 4 0;
#X connect 5 0 6 0;
#X connect 6 0 14 0;
#X connect 7 0 15 0;
#X connect 8 0 7 0;
#X connect 11 0 12 0;
#X connect 12 0 5 0;
#X connect 12 1 8 0 32.................M....fK...PC....3B...fG....;
#X restore 859 120 pd init;
#X obj 859 179 hradio 20 1 0 6 empty empty empty 0 -8 0 10 #191919 #e1e1e1 #e1e1e1 0;
#X text 610 195 min. amplitude (dB):;
#X floatatom 752 280 10 0 0 0 - \$0-set.rand.curve \$0-init.rand.curve 0;
#X text 615 275 random exp. curve:;
#X obj 392 84 vu 20 150 \$0-out-vu-l empty -1 -8 0 10 #e4e4e4 #373737 0 0;
#X msg 41 397 \$1 100, f 10;
#X obj 41 367 r \$0-gain;
#X obj 52 760 s \$0-in-vu-data;
#X obj 52 726 pack 0 0;
#X obj 31 79 vsl 20 150 0 2 0 0 \$0-gain \$0-set-gain INPUT -3 -17 0 16 #e4e4e4 #4d4d4d #373737 0 1;
#X obj 415 84 vu 20 150 \$0-out-vu-r empty -1 -8 0 10 #e4e4e4 #373737 0 0;
#X obj 99 259 hsl 276 20 -1 1 0 0 \$0-xfade \$0-set-xfade DRY<>WET 104 10 0 16 #dcdcdc #000000 #000000 0 1;
#X obj 174 600 else/xfade~ 2, f 26;
#X obj 859 41 declare -path abs -path else;
#X obj 174 676 *~;
#X obj 310 676 *~;
#X obj 440 83 vsl 20 150 0 2 0 0 \$0-mastervol \$0-set-mastervol OUTPUT -31 -17 0 16 #e4e4e4 #4d4d4d #373737 0 1;
#X obj 415 534 line~, f 6;
#X msg 415 503 \$1 100, f 8;
#X obj 415 477 r \$0-xfade;
#X obj 498 477 r \$0-mastervol;
#X obj 99 23 hsl 281 20 0 30 0 0 \$0-voices \$0-load.voices GRAINS 110 9 0 16 #e4e4e4 #4d4d4d #373737 0 1;
#X obj 20 512 expr~ atan($v1);
#X obj 20 536 *~ 0.63662;
#X obj 450 239 bng 10 250 50 0 \$0-ml-mastervol nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 628 363 r \$0-ml-delread-mean;
#X obj 628 389 midi.learn;
#A saved ctlin 10 17;
#X obj 628 509 s \$0-load.delread.m;
#X obj 628 480 scale 0 127 0 10000;
#X obj 853 389 midi.learn;
#A saved ctlin 74 17;
#X obj 853 363 r \$0-ml-delread-dev;
#X obj 853 480 scale 0 127 0 100;
#X obj 853 509 s \$0-load.delread.d;
#X obj 31 235 bng 10 250 50 0 \$0-ml-gain nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 107 240 bng 8 250 50 0 \$0-ml-duration-mean nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 181 240 bng 8 250 50 0 \$0-ml-duration-dev nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 259 240 bng 8 250 50 0 \$0-ml-pitch-mean nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 333 240 bng 8 250 50 0 \$0-ml-pitch-dev nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 106 179 bng 8 250 50 0 \$0-ml-iot-mean nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 181 179 bng 8 250 50 0 \$0-ml-iot-dev nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 258 179 bng 8 250 50 0 \$0-ml-dynamics-mean nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 332 179 bng 8 250 50 0 \$0-ml-dynamics-dev nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 106 120 bng 8 250 50 0 \$0-ml-delread-mean nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 181 120 bng 8 250 50 0 \$0-ml-delread-dev nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 258 120 bng 8 250 50 0 \$0-ml-env-mean nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 332 120 bng 8 250 50 0 \$0-ml-env-dev nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 96 281 bng 10 250 50 0 \$0-ml-xfade nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 96 10 bng 10 250 50 0 \$0-ml-grains nnnnn empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 1063 67 midi.learn;
#A saved ctlin 10 17;
#X obj 1248 67 midi.learn;
#A saved ctlin 74 17;
#X obj 1063 41 r \$0-ml-grains;
#X obj 1248 41 r \$0-ml-xfade;
#X obj 1063 138 scale 0 127 0 30;
#X obj 1248 138 scale 0 127 -1 1;
#X obj 1069 240 midi.learn;
#A saved notein 17;
#X obj 1254 240 midi.learn;
#A saved notein 17;
#X obj 1069 214 r \$0-ml-gain;
#X obj 1254 214 r \$0-ml-mastervol;
#X obj 1069 271 scale 0 127 0 2;
#X obj 1254 271 scale 0 127 0 2;
#X obj 1063 167 s \$0-load.voices;
#X obj 1248 167 s \$0-set-xfade;
#X obj 1254 300 s \$0-set-mastervol;
#X obj 1069 300 s \$0-set-gain;
#X obj 631 571 midi.learn;
#A saved ctlin 114 17;
#X obj 856 571 midi.learn;
#A saved ctlin 18 17;
#X obj 856 662 scale 0 127 0 100;
#X obj 1058 389 midi.learn;
#A saved ctlin 71 17;
#X obj 1263 389 midi.learn;
#A saved ctlin 76 17;
#X obj 1263 480 scale 0 127 0 100;
#X obj 1061 571 midi.learn;
#A saved ctlin 19 17;
#X obj 1266 571 midi.learn;
#A saved ctlin 16 17;
#X obj 1266 662 scale 0 127 0 100;
#X obj 633 754 midi.learn;
#A saved ctlin 72 17;
#X obj 858 754 midi.learn;
#A saved ctlin 79 17;
#X obj 858 845 scale 0 127 0 100;
#X obj 1063 754 midi.learn;
#A saved ctlin 91 17;
#X obj 1268 754 midi.learn;
#A saved ctlin 17 17;
#X obj 1268 845 scale 0 127 0 100;
#X obj 1058 363 r \$0-ml-env-mean;
#X obj 1263 363 r \$0-ml-env-dev;
#X obj 631 545 r \$0-ml-iot-mean;
#X obj 856 545 r \$0-ml-iot-dev;
#X obj 633 728 r \$0-ml-duration-mean;
#X obj 858 728 r \$0-ml-duration-dev;
#X obj 1063 728 r \$0-ml-pitch-mean;
#X obj 1268 728 r \$0-ml-pitch-dev;
#X obj 1266 545 r \$0-ml-dynamics-dev;
#X obj 1061 545 r \$0-ml-dynamics-mean;
#X obj 631 691 s \$0-load.iot.m;
#X obj 856 691 s \$0-load.iot.d;
#X obj 633 874 s \$0-load.grainDur.m;
#X obj 858 874 s \$0-load.grainDur.d;
#X obj 1058 509 s \$0-load.env.m;
#X obj 1263 509 s \$0-load.env.d;
#X obj 1061 691 s \$0-load.amp.m;
#X obj 1266 691 s \$0-load.amp.d;
#X obj 1063 874 s \$0-load.pitch.m;
#X obj 1268 874 s \$0-load.pitch.d;
#X obj 631 662 scale 0 127 20 5000;
#X obj 633 845 scale 0 127 5 2000;
#X obj 1058 480 scale 0 127 1 99;
#X obj 1061 662 scale 0 127 60 112;
#X obj 1063 845 scale 0 127 -12 12;
#X obj 647 421 r \$0-init.buffSize;
#X obj 1086 93 r \$0-init.maxVoices;
#X obj 650 597 r \$0-init.iot.min;
#X obj 700 623 r \$0-init.iot.max;
#X obj 654 781 r \$0-init.grainDur.min;
#X obj 704 807 r \$0-init.grainDur.max;
#X obj 1140 807 r \$0-init.pitch.max;
#X obj 1090 781 r \$0-init.pitch.min;
#X obj 1086 597 r \$0-init.amp.min;
#X obj 1136 623 r \$0-init.amp.max;
#X obj 1077 421 r \$0-init.env.min;
#X obj 1127 447 r \$0-init.env.max;
#X obj 310 705 expr~ atan($v1);
#X obj 310 737 *~ 0.63662;
#N canvas 329 161 625 417 vu 0;
#X obj 59 129 env~ 1024;
#X obj 161 111 abs~;
#X obj 161 213 snapshot~;
#X obj 161 256 rmstodb;
#X obj 161 21 inlet~;
#X obj 161 288 - 100;
#X obj 59 287 - 100;
#X obj 59 361 outlet;
#X obj 161 361 outlet;
#X text 344 307 Check the help file of env~ and slop~ for more details., f 31;
#X obj 239 89 expr 1000 / $f1;
#X floatatom 239 117 5 0 0 0 - - - 0;
#X obj 161 146 slop~ 0 0 0 0 1e+09;
#X floatatom 239 57 5 0 0 0 - - - 0;
#X text 359 89 convert to hz;
#X text 282 118 hz;
#X text 284 57 peak decay time in ms;
#X obj 59 171 t f b;
#X text 345 132 The env~ object is dedicated to RMS analysis. Its output is in dB (0-100 range \, pd style) but needs to be converted to dBFS (and we do that by simply subtracting 100)., f 31;
#X text 345 225 The slop~ object is used here for peak detection. We need to convert the output to dB with rmstodb and also subtract by 100 to convert it to dBFS., f 31;
#X msg 239 31 500;
#X obj 238 8 loadbang;
#X connect 0 0 17 0;
#X connect 1 0 12 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 0 0;
#X connect 4 0 1 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 10 0 11 0;
#X connect 11 0 12 3;
#X connect 12 0 2 0;
#X connect 13 0 10 0;
#X connect 17 0 6 0;
#X connect 17 1 2 0;
#X connect 20 0 13 0;
#X connect 21 0 20 0;
#X restore 199 807 pd vu;
#X f 10;
#X obj 199 840 pack 0 0;
#X obj 199 874 s \$0-out-vu-l;
#N canvas 329 161 625 417 vu 0;
#X obj 59 129 env~ 1024;
#X obj 161 111 abs~;
#X obj 161 213 snapshot~;
#X obj 161 256 rmstodb;
#X obj 161 21 inlet~;
#X obj 161 288 - 100;
#X obj 59 287 - 100;
#X obj 59 361 outlet;
#X obj 161 361 outlet;
#X text 344 307 Check the help file of env~ and slop~ for more details., f 31;
#X obj 239 89 expr 1000 / $f1;
#X floatatom 239 117 5 0 0 0 - - - 0;
#X obj 161 146 slop~ 0 0 0 0 1e+09;
#X floatatom 239 57 5 0 0 0 - - - 0;
#X text 359 89 convert to hz;
#X text 282 118 hz;
#X text 284 57 peak decay time in ms;
#X obj 59 171 t f b;
#X text 345 132 The env~ object is dedicated to RMS analysis. Its output is in dB (0-100 range \, pd style) but needs to be converted to dBFS (and we do that by simply subtracting 100)., f 31;
#X text 345 225 The slop~ object is used here for peak detection. We need to convert the output to dB with rmstodb and also subtract by 100 to convert it to dBFS., f 31;
#X msg 239 31 500;
#X obj 238 8 loadbang;
#X connect 0 0 17 0;
#X connect 1 0 12 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 0 0;
#X connect 4 0 1 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 10 0 11 0;
#X connect 11 0 12 3;
#X connect 12 0 2 0;
#X connect 13 0 10 0;
#X connect 17 0 6 0;
#X connect 17 1 2 0;
#X connect 20 0 13 0;
#X connect 21 0 20 0;
#X restore 350 808 pd vu;
#X f 10;
#X obj 350 841 pack 0 0;
#X obj 350 875 s \$0-out-vu-r;
#X obj 174 705 expr~ atan($v1);
#X obj 174 737 *~ 0.63662;
#X obj 350 775 *~ 6;
#X obj 199 775 *~ 6;
#X obj 52 652 *~ 6;
#X connect 46 0 65 0;
#X connect 48 0 78 2;
#X connect 49 0 78 3;
#X connect 51 0 49 0;
#X connect 52 0 48 0;
#X connect 53 0 55 1;
#X connect 53 0 55 0;
#X connect 54 0 53 0;
#X connect 55 0 80 1;
#X connect 55 0 81 1;
#X connect 57 0 58 0;
#X connect 58 0 88 0;
#X connect 59 0 60 1;
#X connect 59 0 60 0;
#X connect 60 0 58 1;
#X connect 62 0 74 0;
#X connect 62 1 74 1;
#X connect 66 0 64 0;
#X connect 71 0 59 0;
#X connect 72 0 71 0;
#X connect 74 0 73 0;
#X connect 78 0 80 0;
#X connect 78 1 81 0;
#X connect 80 0 190 0;
#X connect 81 0 182 0;
#X connect 83 0 78 4;
#X connect 84 0 83 0;
#X connect 85 0 84 0;
#X connect 86 0 54 0;
#X connect 88 0 89 0;
#X connect 89 0 56 0;
#X connect 89 0 78 0;
#X connect 89 0 78 1;
#X connect 89 0 194 0;
#X connect 91 0 92 0;
#X connect 92 0 94 0;
#X connect 94 0 93 0;
#X connect 95 0 97 0;
#X connect 96 0 95 0;
#X connect 97 0 98 0;
#X connect 114 0 118 0;
#X connect 115 0 119 0;
#X connect 116 0 114 0;
#X connect 117 0 115 0;
#X connect 118 0 126 0;
#X connect 119 0 127 0;
#X connect 120 0 124 0;
#X connect 121 0 125 0;
#X connect 122 0 120 0;
#X connect 123 0 121 0;
#X connect 124 0 129 0;
#X connect 125 0 128 0;
#X connect 130 0 165 0;
#X connect 131 0 132 0;
#X connect 132 0 156 0;
#X connect 133 0 167 0;
#X connect 134 0 135 0;
#X connect 135 0 160 0;
#X connect 136 0 168 0;
#X connect 137 0 138 0;
#X connect 138 0 162 0;
#X connect 139 0 166 0;
#X connect 140 0 141 0;
#X connect 141 0 158 0;
#X connect 142 0 169 0;
#X connect 143 0 144 0;
#X connect 144 0 164 0;
#X connect 145 0 133 0;
#X connect 146 0 134 0;
#X connect 147 0 130 0;
#X connect 148 0 131 0;
#X connect 149 0 139 0;
#X connect 150 0 140 0;
#X connect 151 0 142 0;
#X connect 152 0 143 0;
#X connect 153 0 137 0;
#X connect 154 0 136 0;
#X connect 165 0 155 0;
#X connect 166 0 157 0;
#X connect 167 0 159 0;
#X connect 168 0 161 0;
#X connect 169 0 163 0;
#X connect 170 0 94 4;
#X connect 171 0 118 4;
#X connect 172 0 165 3;
#X connect 173 0 165 4;
#X connect 174 0 166 3;
#X connect 175 0 166 4;
#X connect 176 0 169 4;
#X connect 177 0 169 3;
#X connect 178 0 168 3;
#X connect 179 0 168 4;
#X connect 180 0 167 3;
#X connect 181 0 167 4;
#X connect 182 0 183 0;
#X connect 183 0 50 1;
#X connect 183 0 192 0;
#X connect 184 0 185 0;
#X connect 184 1 185 1;
#X connect 185 0 186 0;
#X connect 187 0 188 0;
#X connect 187 1 188 1;
#X connect 188 0 189 0;
#X connect 190 0 191 0;
#X connect 191 0 50 0;
#X connect 191 0 193 0;
#X connect 192 0 187 0;
#X connect 193 0 184 0;
#X connect 194 0 62 0;
#X coords 0 -1 1 1 351 308 0;
